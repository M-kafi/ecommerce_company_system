<?php
    $errors = array();
	$firstname = "";
	$lastname="";
	$email="";
	$password="";
	$confirm = "";
	$street = "";
	$suite="";
	$city="";
	$province="";
	$country = "";
	$homephone = "";
	$workphone = "";
	$cellphone = "";
	$extension="";
	$message="";
	
	if(isset($_POST['save']))
	{
		//will save the changes
		$firstname= $_POST['firstname'];
		validateInput($firstname,"firstname");
	}
	else if (isset($_POST['clear']))
	{
		clearscreen();
		header('Location: ./index.php');
	}
	function clearscreen()
	{
	$firstname = "";
	$lastname="";
	$email="";
	$password="";
	$confirm = "";
	$street = "";
	$suite="";
	$city="";
	$province="";
	$country = "";
	$homephone = "";
	$workphone = "";
	$cellphone = "";
	$extension="";
	$message ="";
	}
	function ValidatePassword($password,$confirm,$theerror)
	{
		global $errors;
		if($password != confirm)
		{
			$errors[$theerror]="*";
			$message ="Passwords do not match";
		}
	}
	function validateInput($input, $theerror)
	{
		global $errors,$message;
		$input = trim($input);
		if(empty($input))
		{
			$errors[$theerror]="*";
			$message ="Please fill in all the required fields";
		}		
	}
?>
<form method="POST" action="" autocomplete="off">
<div class="divPage">
	<div class="bodyContent">
		<h2>Change Profile</h2>
		<h3>Personal</h3>
		<div class="row">
			<label class="rowtextlabel">First Name</label>
			<input class="rowinput" type="text" name="firstname" id="fname" maxlength="40" value="<?php echo $firstname; ?>" />
			<div class="errorStar">
				<?php if(isset($errors['firstname'])) echo $errors['firstname'];?>				
			</div>	
			<label class="rowtextlabelright">Last Name</label>
			<input class="rowinput" type="text" name="lastname" id="lname" maxlength="40" value="<?php echo $lastname; ?>"/>
			<div class="errorStar">
				<?php if(isset($errors['lastname'])) echo $errors['lastname'];?>				
			</div>
		</div>
		<br />
		<div class="row">
			<label class="rowtextlabel">Email</label>
			<input class="rowinputemail" type="text" name="email" id="email" maxlength="255" value="<?php echo $email; ?>" />		
			<div class="errorStar">
				<?php if(isset($errors['email'])) echo $errors['email'];?>				
			</div>
		</div>
		<br />
		<div class="row">
			<label class="rowtextlabel">Password</label>
			<input class="rowinput" type="password" name="pswd" id="pswd" maxlength="15" value="<?php echo $password; ?>"/>
			<div class="errorStar">
				<?php if(isset($errors['password'])) echo $errors['password'];?>				
			</div>
			<label class="rowtextlabelright">confirm</label>
			<input class="rowinput" type="password" name="confirm" id="confirm"  value="<?php echo $confirm; ?>"/>
			<div class="errorStar">
				<?php if(isset($errors['confirm'])) echo $errors['confirm'];?>				
			</div>
		</div>
		<br />
		<h3>Address</h3>
		<div class="row">
			<label class="rowtextlabel">Street</label>
			<input class="rowinput" type="text" name="street" id="street" maxlength="125" value="<?php echo $street; ?>"/>
			<div class="errorStar">
				<?php if(isset($errors['street'])) echo $errors['street'];?>				
			</div>
			<label class="rowtextlabelright">suite</label>
			<input class="rowinput" type="text" name="suite" id="suite" maxlength="8" value="<?php echo $suite; ?>" />			
		</div>
		<br />
		<div class="row">
			<label class="rowtextlabel">City</label>
			<input class="rowinput" type="text" name="city" id="city"  maxlength="35" value="<?php echo $city; ?>"/>
			<div class="errorStar">
				<?php if(isset($errors['city'])) echo $errors['city'];?>				
			</div>
			<label class="rowtextlabelright">province</label>
			&nbsp;
			<select  name="province" selected="<?php echo $province; ?>">  
					<option value="">Select</option>
					<option <?php if($province == 'AB') echo 'selected="selected"'; ?> value="AB" >Alberta</option>
					<option <?php if($province == 'BC') echo 'selected="selected"'; ?> value="BC" >British Columbia</option>
					<option <?php if($province == 'MB') echo 'selected="selected"'; ?> value="MB" >Manitoba</option>
					<option <?php if($province == 'NB') echo 'selected="selected"'; ?> value="NB" >New Brunswick</option>
					<option <?php if($province == 'NL') echo 'selected="selected"'; ?> value="NL" >Newfoundlad and Labrador</option>
					<option <?php if($province == 'NS') echo 'selected="selected"'; ?> value="NS" >Nova Scotia</option>
					<option <?php if($province == 'ON') echo 'selected="selected"'; ?> value="AB" >Ontario</option>
					<option <?php if($province == 'PE') echo 'selected="selected"'; ?> value="PE" >Prince Edward Island</option>
					<option <?php if($province == 'QC') echo 'selected="selected"'; ?> value="QC" >Quebec</option>
					<option <?php if($province == 'SK') echo 'selected="selected"'; ?> value="SK" >Saskatchewan</option>
					<option <?php if($province == 'YT') echo 'selected="selected"'; ?> value="YT" >Yukon</option>
					<option <?php if($province == 'NT') echo 'selected="selected"'; ?> value="NT" >Northwest Territories</option>
					<option <?php if($province == 'NU') echo 'selected="selected"'; ?> value="NU" >Nunavut</option>
					
			</select>
			<div class="errorStar">
				<?php if(isset($errors['province'])) echo $errors['province'];?>				
			</div>
		</div>
		<div class="row">
			<label class="rowtextlabel">Country</label>				
			&nbsp;
			<select name= "country" value="<?php echo $country; ?>">  
				<option value="">Select</option>
				<option <?php if($country == 'CA') echo 'selected="selected"'; ?> value="CA">Canada</option>
				<option <?php if($country == 'US') echo 'selected="selected"'; ?> value="US">United States</option>
			</select>
			<div class="errorStar">
				<?php if(isset($errors['country'])) echo $errors['country'];?>				
			</div>
		</div>
		<br />
		<h3>Contact Numbers</h3>
		<div class="row">
			<label class="rowtextlabel">Home</label>
			<input class="rowinput" type="text" name="homephone" id="homephone" maxlength="14" value="<?php echo $homephone; ?>" />
			<label class="rowtextlabelright">Cell</label>
			<input class="rowinput" type="text" name="cellphone" id="cellphone" maxlength="14" value="<?php echo $cellphone; ?>"/>			
		</div>
		<br />
		<div class="row">
			<label class="rowtextlabel">Work</label>
			<input class="rowinput" type="text" name="cellnumber" id="cellnumber" maxlength="14" value="<?php echo $cellphone; ?>"/>
			<label class="rowtextlabel">Extension</label>
			<input class="rowinput" type="text" name="extension" id="ext" maxlength="14" value="<?php echo $extension; ?>"/>
		</div>
		<br />
		<div class="divCenter" >
		<br />
			<div class="errorStar">
				<?php if(!empty($message)) echo $message;?>				
			</div>
		<br />
             <!-- Save submitted information-->
		<input class="button" type="submit" name="save" id="savebutton" value="Save Changes" />
            <!-- clear and cancel submitted information-->
		<input class="button" type="submit" name="cancel" id="cancelbutton" value="Cancel" />
		
		
		</div>
		</div>
</div>
</form>